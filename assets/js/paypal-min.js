$(document).ready(function(){function e(e,t){t==="focus"?e.fadeIn(100,function(){$(this).removeClass("hide").removeAttr("style")}):t==="blur"&&e.fadeOut(100,function(){$(this).addClass("hide").removeAttr("style")})}function t(e,t){var n,r;n=e.split(".").join("").split(",").join("");r=n.split("");t==="dollar"||t==="yen"?r.splice(-2,0,"."):r.splice(-2,0,",");n=r.join("");t==="dollar"||t==="yen"?n=n.split("."):n=n.split(",");n[0].length>=4&&(t==="dollar"?n[0]=n[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,"):t==="euro"?n[0]=n[0].replace(/(\d)(?=(\d{3})+$)/g,"$1."):n[0]=n[0]);n[1]&&n[1].length>=5&&(n[1]=n[1].replace(/(\d{3})/g,"$1 "));t==="dollar"||t==="yen"?e=n.join("."):e=n.join(",");return e}function n(e){var t=new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);return t.test(e)}$("textarea").autosize();$(".paypal").on("click",".payment-choice",function(e){e.stopPropagation();var t=$(this);$(".payment-choice").removeClass("selected");t.addClass("selected")});$("#amount-to-send").on("focus",function(){var t=$(this),n=t.closest(".input-contain").find("#currency-type");e(n,"focus")});$("#currency-type").on("change",function(){var e=$(this),n=e.closest(".input-contain"),r=n.find("#amount-to-send"),i=r.val(),s=n.find(".currency-type").children("i"),o=$(this).children("option:selected").data("toggle"),u;o==="euro"&&i===""?r.attr("placeholder","1.234,56").focus():o==="yen"&&i===""?r.attr("placeholder","1234,56").focus():o==="dollar"&&i===""&&r.attr("placeholder","1,234.56").focus();i!==""&&(u=t(i,o));r.val(u);s.removeClass().addClass("icon-"+o);$("#currency-symbol").val(o)});$("#submit-payment").on("submit",function(e){e.preventDefault();var t=this;if($(".paypal").find(".form-warning").length==0){$("input, select, textarea").attr("readonly",!0);$(".paypal-header, .paypal-form").addClass("blur-me");$(".paypal .overlay").removeClass("hide");setTimeout(function(){t.submit()},3500)}});$(":reset").on("click",function(){$(".payment-choice").removeClass("selected");$(".input-contain").removeClass("form-warning");$(".icon-ok-sign, .icon-warning-sign").addClass("hide")});$(".send-to, .amount").on("blur","input",function(){var e=$(this);if(e.attr("type")==="email")if(e.val()!=="")if(!n(e.val())){e.closest(".input-contain").addClass("form-warning");$(".send-to .icon-warning-sign").fadeIn(100,function(){$(this).removeClass("hide").removeAttr("style")});$(":submit").attr("disabled",!0).val("Please correct errors first.")}else{$(".send-to .icon-warning-sign").addClass("hide");$(".send-to .icon-ok-sign").fadeIn(100,function(){$(this).removeClass("hide").removeAttr("style")});$(":submit").attr("disabled",!1).val("Submit Payment")}else e.attr("type")==="tel"});$(".send-to, .amount, .message").on("focus blur","input, textarea, select",function(){$(this).closest(".input-contain").toggleClass("active")});$(".send-to").on("keypress","input",function(e){var t=window.event?e.keyCode:e.which;console.log(t)});$(".amount").on("keypress","input",function(e){var t=window.event?e.keyCode:e.which;(t<48||t>57)&&t!==0&&t!==8&&t!==13&&t!==46&&t!==44&&!e.ctrlKey&&e.preventDefault()});$(".amount").on("blur","input",function(){var e=$(this),n=e.val(),r=e.parent("label").siblings("select").find("option:selected").data("toggle");r==="dollar"||r==="yen"?n.indexOf(".")!==-1?n=n.slice(0,n.indexOf(".")+3):e.val()!==""&&(n+=".00"):n.indexOf(",")!==-1?n=n.slice(0,n.indexOf(",")+3):e.val()!==""&&(n+=",00");n!==""?n=t(n,r):e.closest(".input-contain").addClass("form-warning");e.val(n)});if($("body").hasClass("paypal-submit")){var r=window.location.search,i=r.split("?"),s=i[1].split("&"),o=new Array;for(var u=0;u<s.length;u++)o.push(s[u].split("=")[1]);$(".send-money-to").text(decodeURIComponent(o[0]));var a=decodeURIComponent(o[1]);a=t(a,o[4]);var f;o[4]==="dollar"?f="USD":o[4]==="euro"?f="Euro":o[4]==="yen"&&(f="Yen");$(".amount-to-send").html('<i class="icon-'+o[4]+'"> '+a+" "+f);paymentMessage=decodeURIComponent(o[2]).replace(/\+/g," ");$(".payment-message").text(paymentMessage);setTimeout(function(){$(".confirmation-text").fadeIn("fast",function(){$(this).removeClass("hide").removeAttr("style")})},100)}else{var l,c,h;l={lines:15,length:0,width:11,radius:50,corners:1,rotate:35,direction:1,color:"#fff",speed:1.3,trail:64,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};c=document.getElementById("spinner");h=(new Spinner(l)).spin(c)}});