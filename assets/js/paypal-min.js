$(document).ready(function(){function e(e,t){t==="focus"?e.fadeIn(100,function(){$(this).removeClass("hide").removeAttr("style")}):t==="blur"&&e.fadeOut(100,function(){$(this).addClass("hide").removeAttr("style")})}function t(e,t){var n,r;n=e.split(".").join("").split(",").join("");r=n.split("");t==="dollar"||t==="yen"?r.splice(-2,0,"."):r.splice(-2,0,",");n=r.join("");t==="dollar"||t==="yen"?n=n.split("."):n=n.split(",");n[0].length>=4&&(t==="dollar"?n[0]=n[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,"):t==="euro"?n[0]=n[0].replace(/(\d)(?=(\d{3})+$)/g,"$1."):n[0]=n[0]);n[1]&&n[1].length>=5&&(n[1]=n[1].replace(/(\d{3})/g,"$1 "));t==="dollar"||t==="yen"?e=n.join("."):e=n.join(",");return e}$("body").hasClass("paypal-submit")||$("textarea").autosize();$(".paypal").on("click",".payment-choice",function(e){e.stopPropagation();var t=$(this);$(".payment-choice").removeClass("selected");t.addClass("selected")});$("#amount-to-send").on("focus",function(){var t=$(this),n=t.closest(".input-contain").find("#currency-type");e(n,"focus")});$("#currency-type").on("change",function(){var e=$(this),n=e.closest(".input-contain"),r=n.find("#amount-to-send"),i=r.val(),s=n.find(".currency-type").children("i"),o=$(this).children("option:selected").data("toggle"),u;o==="euro"&&i===""?r.attr("placeholder","1.234,56").focus():o==="yen"&&i===""?r.attr("placeholder","1234,56").focus():o==="dollar"&&i===""&&r.attr("placeholder","1,234.56").focus();i!==""&&(u=t(i,o));r.val(u);s.removeClass().addClass("icon-"+o);$("#currency-symbol").val(o)});$("#submit-payment").on("submit",function(e){e.preventDefault();var t=this;$(".paypal-header, .paypal-form").addClass("blur-me");$(".paypal .overlay").removeClass("hide");setTimeout(function(){t.submit()},3500)});$(".send-to, .amount, .message").on("focus","input, textarea, select",function(){$(this).closest(".input-contain").addClass("active")});$(".send-to, .amount, .message").on("blur","input, textarea, select",function(){$(this).closest(".input-contain").removeClass("active")});$(".amount").on("keypress","input",function(e){var t=window.event?e.keyCode:e.which;(t<48||t>57)&&t!==0&&t!==8&&t!==13&&t!==46&&t!==44&&!e.ctrlKey&&e.preventDefault()});$(".amount").on("blur","input",function(){var e=$(this),n=e.val(),r=e.parent("label").siblings("select").find("option:selected").data("toggle");r==="dollar"||r==="yen"?n.indexOf(".")!==-1?n=n.slice(0,n.indexOf(".")+3):e.val()!==""&&(n+=".00"):n.indexOf(",")!==-1?n=n.slice(0,n.indexOf(",")+3):e.val()!==""&&(n+=",00");n!==""&&(n=t(n,r));e.val(n)});if($("body").hasClass("paypal-submit")){var n=window.location.search,r=n.split("?"),i=r[1].split("&"),s=new Array;for(var o=0;o<i.length;o++)s.push(i[o].split("=")[1]);$(".send-money-to").text(decodeURIComponent(s[0]));var u=decodeURIComponent(s[1]);u=t(u,s[4]);var a;s[4]==="dollar"?a="USD":s[4]==="euro"?a="Euro":s[4]==="yen"&&(a="Yen");$(".amount-to-send").html('<i class="icon-'+s[4]+'"> '+u+" "+a);$(".payment-message").text(decodeURIComponent(s[2]));setTimeout(function(){$(".confirmation-text").fadeIn("fast",function(){$(this).removeClass("hide").removeAttr("style")})},100)}});