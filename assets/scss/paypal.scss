/*! ------------------------------------------------------

MUST HAVES:
Figure A
------------------------------------------------------
- 1. Focusing on an input removes the label and allows text entry.

2. Validation occurs on To and Amount inputs. Entering a correct
   value shows success while entering an invalid value shows an error.

- 3. Changing the amount updates the value with the correct currency formatting.
    Sample data:
      • $1,234.56 (USD)
      • €1.234,56 (EUR)
      • ¥1234.56 (JPY)

- 4. Selecting USD allows the user to modify the currency.
    Sample data:
      • USD
      • EUR
      • JPY

5. Selecting a value for What's this payment for? highlights the selection.

- 6. Selecting CLEAR returns the form to it's original state.

- 7. Selecting NEXT moves to Figure B.


Figure B
------------------------------------------------------
- 1. Displays a loading icon.
- 2. Refreshes to Figure C when available.

Figure C
------------------------------------------------------
- 1. Selecting START OVER returns to Figure A.

------------------------------------------------------- */

@import "lib/_messaging";
@import "lib/_buttons";



$border-radius-value: 10px;


// -- resetting main.css
h2 {
  color: inherit;
  line-height: inherit;
  border-bottom: 0;
  box-shadow: 0 0 0 transparent;
}
input,
textarea {
  border: 0;
  margin: 0;
  padding: .5rem;
  background: #f5f5f5;
  box-shadow: 0 0 0 transparent;

  font-size: 1rem;
  
  -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
          transition: all .2s ease-in-out;

  // not removing completely because I still want
  // it to be accessible as much as possible.
  &:focus { outline: 0 solid transparent; }
}


//input:invalid + label::after{content: " INVALID";color: red;}

label { cursor: pointer; }

// -- Helpers
.add-on {
  padding: 9px 3px;
  font-size: smaller;
  position: relative;
  background-color: #f5f5f5;
  top: -1px;

  -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
          transition: all .2s ease-in-out;

  .input-append & {
    margin-right: -5px;
    border-right: 0;
  }
}

.blur-me {
  -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
          transition: all .2s ease-in-out;

  -webkit-filter: blur(5px);
          filter: blur(5px);
}

.paypal {
  height: 800px;
  position: relative;
  overflow: hidden;
  border: 1px solid #333;
  background: #f5f5f5 url('/assets/img/paypal-bg.jpg') repeat top left;
  text-shadow: 0 1px 0 #fff;
  color: #3f3f3f;
  h1, h2, h3, h4, h5, h6 {
    font-family: "HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue",Helvetica,Arial,sans-serif;
    font-weight: lighter;
  }

  a {
    font-weight: bold;
    color: #0079C1;
    &.btn-primary {
      color: #fff;
    }
  }

  .overlay {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: auto;
    
    background-color: rgba(0,0,0,.5);
    z-index: 2;
    
    text-align: center;
    
    // necessary for vertical centering w/o resorting to dispay: table and such
    .icon-contain {
      bottom: 0;
      height: 61px;
      left: 0;
      margin: auto;
      position: absolute;
      top: 0;
      right: 0;
      width: 60px;
    }
    
    [class*="icon-"] {
      -webkit-transition: all .2s; // need to keep around until 7.0
              transition: all .2s;
    }
    
  }

  .paypal-header,
  .paypal-footer {

    // snagged from paypal!
    background: url(https://www.paypalobjects.com/webstatic/i/sparta/scr/scr_gray-bkgd.png) repeat #6E6D71;
    position: absolute;
    overflow: hidden;
    z-index: 1;
    color: #fff;
    text-shadow: 0 1px 0 #555;
    
  }

  .paypal-header {
    width: calc(100% - 2rem);
    padding: 1rem;
    text-align: center;
    border-bottom: 1px solid #5A595D;

    -webkit-box-shadow: inset 0 -5px 5px #5A595D;
       -moz-box-shadow: inset 0 -5px 5px #5a595d;
            box-shadow: inset 0 -5px 5px #5A595D;
  }

  .paypal-footer {
    width: calc(100% - 3rem);
    bottom: 0;
    padding: 1rem 1.5rem;
    border-top: 1px solid #5A595D;

    -webkit-box-shadow: inset 0 5px 5px #5A595D;
       -moz-box-shadow: inset 0 5px 5px #5a595d;
            box-shadow: inset 0 5px 5px #5A595D;

    .btn-primary {
      width: calc(100% - 8.5rem);
      padding: 3% 15px;
      float: right;
      .paypal-submit & {
        width: calc(100% - 2rem);
        float: none;
        display: block;
      }
    }
    .btn-secondary {
      float: left;
      width: 3rem;
      padding: 3% 15px;
    }
  }

  .paypal-body {
    padding: 1rem 1.5rem;
    overflow-y: auto;
    overflow-x: hidden;
    height: calc(800px - 10.6rem);
    position: relative;
    top: 3.3rem;
    .paypal-submit & {
      text-align: center;
      padding-top: 5rem;
      font-size: 120%;
      
      .payment-message {
        display: block;
        padding: .5rem;
        border: 1px solid #919191;
        border-radius: $border-radius-value;
        background-color: #f5f5f5;
        text-align: left;
      }
    }
  }

  .input-contain {
    margin-bottom: 1rem;
    padding: .5rem;
    position: relative;
    border: 1px solid #919191;
    border-radius: $border-radius-value;
    background-color: #f5f5f5;
    box-shadow: inset 0 0 3px #AFAFAF;

    -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
            transition: all .2s ease-in-out;

    .currency-type {
      [class*="icon-"] {
        position: static;
        top: auto;
        right: auto;
      }
    }

    [class*="icon-"] {
      position: absolute;
      top: 1rem;
      right: .5rem;
    }

    #currency-type {
      position: relative;
      top: -2px;
    }
    
    [name="send-money-to"] {
      width: calc(100% - 70px);
    }
    
    [name="amount-to-send"] {
      width: calc(100% - 160px);
      padding-left: 0;
    }

    &.message {

      // form textarea
      [for="payment-message"] {
        display: none;
      }
      [name="payment-message"] {
        width: calc(100% - 1rem);
        padding: .5rem .5rem 1rem .5rem;
        resize: none;   // sorry people who want to resize the textarea.. 
        overflow: auto; // remove scrollbars in IE (blerrrg that browser...)

        vertical-align: top;
        -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
                transition: all .2s ease-in-out;
        
        &:focus + .msg-counter {
          opacity: 1;
          -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
                  transition: all .2s ease-in-out;
        }
      }
    }
    &.active {
      
      border: 1px solid #57A9D9;
      background-color: #fff;
      -webkit-box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15), 0 0 5px rgba(58, 144, 194, 0.6), 0 2px 2px rgba(0, 0, 0, 0.2) inset;
      -moz-box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15), 0 0 5px rgba(58, 144, 194, 0.6), 0 2px 2px rgba(0, 0, 0, 0.2) inset;
      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15), 0 0 5px rgba(58, 144, 194, 0.6), 0 2px 2px rgba(0, 0, 0, 0.2) inset;

      -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
              transition: all .2s ease-in-out;

      input,
      textarea,
      .add-on {
        background-color: #fff;
        -webkit-transition: all .2s ease-in-out; // need to keep around until 7.0
                transition: all .2s ease-in-out;
      }
    }

  }
  
  .payment-type,
  .payment-choice {
    margin: 0;
    padding: 0;
    list-style: none;
  }
  
  .payment-recipient {
    
    margin-top: 3rem;
    background-color: transparent;
    border: 0;
    box-shadow: 0 0 0 transparent;
  }

  .payment-choice {
    input { display: none; }
    padding: .5rem;
    border: 1px solid #919191;
    background-color: #f5f5f5;
    box-shadow: inset 0 0 2px #afafaf;
    cursor: pointer;
 
    -webkit-transition: all .2s; // need to keep around until 7.0
            transition: all .2s;
 
    &:first-child {
      border-bottom: 0;
      border-top-left-radius: $border-radius-value;
      border-top-right-radius: $border-radius-value;
    }
    &:last-child {
      border-bottom-left-radius: $border-radius-value;
      border-bottom-right-radius: $border-radius-value;
    }
    &.selected {
      
      color: #fff;
      text-shadow: 0 1px 0 #555;
      background: url(https://www.paypalobjects.com/webstatic/i/sparta/scr/scr_gray-bkgd.png) repeat rgba(0, 0, 0, 0.12);

      -webkit-box-shadow: 2px 0 16px rgba(0, 0, 0, 0.6) inset;
         -moz-box-shadow: 2px 0 16px rgba(0, 0, 0, 0.6) inset;
              box-shadow: 2px 0 16px rgba(0, 0, 0, 0.6) inset;

 
      -webkit-transition: background .2s ease-in-out; // need to keep around until 7.0
              transition: background .2s ease-in-out;
    }
  }
}